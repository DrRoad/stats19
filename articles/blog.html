<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>stats19: a package for making roads safer • stats19</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="stats19: a package for making roads safer">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">stats19</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/stats19.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/blog.html">stats19: a package for making roads safer</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="blog_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="blog_files/jquery-1.12.4/jquery.min.js"></script><link href="blog_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="blog_files/leaflet-1.3.1/leaflet.js"></script><link href="blog_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="blog_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="blog_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="blog_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="blog_files/leaflet-binding-2.0.2/leaflet.js"></script><script src="blog_files/leaflet-providers-1.1.17/leaflet-providers.js"></script><script src="blog_files/leaflet-providers-plugin-2.0.2/leaflet-providers-plugin.js"></script><link href="blog_files/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
<script src="blog_files/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script><script src="blog_files/leaflet-minimap-3.3.1/Minimap-binding.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>stats19: a package for making roads safer</h1>
                        <h4 class="author">Layik Hama and Robin Lovelace</h4>
            
            <h4 class="date">2019-02-15</h4>
      
      
      <div class="hidden name"><code>blog.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><strong>stats19</strong> is a new R package that enables access to and processing of Great Britain’s official road traffic casualty database, <a href="https://data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-47e5ce24a11f/road-safety-data">STATS19</a>. It has been peer reviewed thanks to rOpenSci and is now published in the Journal of Open Source Software (<a href="http://joss.theoj.org/papers/10.21105/joss.01181">JOSS</a>) <span class="citation">(Lovelace et al. 2019)</span>. For installation and the code, see its home in rOpenSci: <a href="https://github.com/ropensci/stats19" class="uri">https://github.com/ropensci/stats19</a>, and the package documentation at <a href="https://itsleeds.github.io/stats19/" class="uri">https://itsleeds.github.io/stats19/</a>. In this post, we’ll provide a bit of context, show how the package works, and provide ideads for future work building on the experience.</p>
<p>We started the package in late 2018 following three main motivations:</p>
<ol style="list-style-type: decimal">
<li>The release of the 2017 road crash statistics, which showed worsening road safety in some areas, increasing the importance of making the data more accessible.</li>
<li>The realisation that many researchers were writing add-hoc code to clean the data, with a huge amount of duplicated (wasted) effort and potential for mistakes to lead to mistakes in the labelling of the data (more on that below).</li>
<li>An understanding of the concept of ‘modularity’ in software design, following the <a href="https://en.wikipedia.org/wiki/Unix_philosophy">Unix philosophy</a> that programs should ‘do one thing and do it well’. This realisation has led to code inside the rOpenSci-hosted package <a href="https://github.com/ropensci/stplanr"><code>stplanr</code></a> being split-out into 2 separate packages already: <a href="https://github.com/Robinlovelace/cyclestreets"><code>cyclestreets</code></a> and <a href="https://github.com/ropensci/stats19"><code>stats19</code></a>.</li>
</ol>
<p>The main authors are based at the <a href="https://environment.leeds.ac.uk/transport">Institute for Transport Studies (ITS)</a> and the <a href="https://lida.leeds.ac.uk/">Leeds Institute for Data Analytics (LIDA)</a>, institutions focussed on transport and data-intensive research. We have prior experience writing code to work with road crash data: Robin wrote code for an academic paper on cycle safety in Yorkshire based on STATS19 data <span class="citation">(Lovelace, Roberts, and Kellar 2016)</span>, and put it in the <a href="https://github.com/Robinlovelace/bikeR">robinlovelace/bikeR</a> repo for posterity/reproducibility. Package contributor, Dr Malcolm Morgan, wrote code processing different STATS19 data for the Cycling Infrastructure Prioritisation Toolkit (<a href="https://www.cyipt.bike">CyIPT</a>) and put it in <a href="https://github.com/cyipt/stats19">cyipt/stats19</a>. The large and complex STATS19 data from the UK’s Department for Transport, which is open access but difficult-to-use, represented a perfect opportunity for us to get stuck into a chunky data processing challenge.</p>
<p>We have a wider motivation: we want the roads to be safer. By making data on the nature of road crashes in the UK more publicly accessible (in a usable format), we hope this package saves lives.</p>
</div>
<div id="what-is-stats19-anyway" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-stats19-anyway" class="anchor"></a>What is STATS19 anyway?</h2>
<p>One of the reviewer comments from the <a href="https://github.com/ropensci/software-review/issues/266">rOpenSci review process (which has 77 comments - lots of knowledge shared)</a> alluded to the package’s esoteric name:</p>
<blockquote>
<p>I confess I wish the package name was more expressive–stats19 sounds like an introductory statistics class.</p>
</blockquote>
<p>We agree! However, the priority with the package is to remain faithful to the data, and alternative name options, such as stats19data, roadcrashesUK and roadSafetyData were not popular. Furthermore, the term ‘stats19’ is strongly associated with road crash data online. The URL <a href="https://en.wikipedia.org/wiki/STATS19" class="uri">https://en.wikipedia.org/wiki/STATS19</a> resolves to <a href="https://en.wikipedia.org/wiki/Reported_Road_Casualties_Great_Britain" class="uri">https://en.wikipedia.org/wiki/Reported_Road_Casualties_Great_Britain</a>, for example (this page is provides and excellent introduction to STATS19).</p>
<p>The name comes from a UK police form called <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/775149/Operational_Metrics_Manual.pdf">STATS19</a> (note the capital letters). Why STATS19 and not, say, STATS18 or STATS20? We’re not sure, but there <em>is</em> an official <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/230596/stats20-2011.pdf">STATS20 product</a>, which explains what STATS19 data is and provides guidelines to officers filling in STATS19 form (it’s a 100+ page document providing lots of detail on each variable collected, so worth checking out if you want detail). An important point is that the dataset omits crashes in which nobody was hurt, as emphasised by another government <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/743853/reported-road-casualties-gb-notes-definitions.pdf">document</a>:</p>
<blockquote>
<p>The STATS19 data are therefore not a complete record of all injury accidents and this should be borne in mind when using and analysing the data. However, they remain the most detailed, complete and reliable single source of information on road casualties covering the whole of Great Britain, in particular for monitoring trends over time</p>
</blockquote>
<p>The Department for Transport (DfT) also names the dataset <a href="https://data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-47e5ce24a11f/road-safety-data">STATS19 on the main web page that links to open access road crash data</a>.</p>
<p>The importance of road safety and informed decision making based on crash data cannot be overstated. Two numbers from a strategy <a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/8146/strategicframework.pdf">document</a> by the UK government (2011) are worth mentioning here:</p>
<blockquote>
<p>The economic welfare costs [of road collisions] are estimated at around £16 billion a year while insurance payouts for motoring claims alone are now over £12 billion a year.</p>
</blockquote>
<p>Even more shocking are the <a href="https://www.who.int/gho/road_safety/mortality/en/">global statistics</a>, as summarised by an open access and reproducible academic <a href="https://github.com/Robinlovelace/stats19-gisruk">paper that uses data from the package to explore car-pedestrian crashes</a>:</p>
<blockquote>
<p>While so many people die on the roads each year in the UK (1,793 people in 2017, 3 deaths per 100,000) and worldwide (1,250,000 people in 2015, 17 deaths per 100,000) and ‘vision zero’ remains a Swedish dream (Johansson 2009), we urge people researching STATS19 and other road safety datasets to focus on a more urgent question: how to stop this carnage?</p>
</blockquote>
</div>
<div id="the-road-crash-data-in-stats19" class="section level2">
<h2 class="hasAnchor">
<a href="#the-road-crash-data-in-stats19" class="anchor"></a>The road crash data in stats19</h2>
<p>There are three main different types of CSV files released by the DfT: <code>accidents</code>, <code>vehicles</code> and <code>casualties</code> tables. There is a schema covering these tables but a good amount of work is needed to understand it, let alone be able to the data contained within the files and convert the integers they contain into meaningful data.</p>
<p>The annual statistics have not been released in a consistent way either, making it hard for people to download, or even find, the relevant files. For example, there are separate files for each of the above tables for certain years (e.g. 2016, 2017) but not for all of 1979 - 2017 or 2018 now. The largest chunk is the 1979 - 2004 data, which is made available in a huge ZIP file (<a href="http://data.dft.gov.uk/road-accidents-safety-data/Stats19-Data1979-2004.zip">link</a>). Unzipped this contains the following 3 files, which occupy almost 2 GB on your hard drive:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ex">721M</span> Apr  3  2013 Accidents7904.csv</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="ex">344M</span> Apr  3  2013 Casualty7904.csv</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="ex">688M</span> Apr  3  2013 Vehicles7904.csv</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># total 1.753 GB data</span></a></code></pre></div>
</div>
<div id="how-stats19-works" class="section level2">
<h2 class="hasAnchor">
<a href="#how-stats19-works" class="anchor"></a>How stats19 works</h2>
<p>With those introductions out of the way, lets see what the package can do and how it can empower people (including target audiences of academics, policy makers and road safety campaigners and R programmers/analysts wanting to test their skills on a large spatio-temporal dataset) to access STATS19 data, back to 1979. First install the package in the usual way:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"stats19"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co"># the dev version is used for this blog post</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"ropensci/stats19"</span>)</a></code></pre></div>
<p>Attach the package as follows:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(stats19)</a></code></pre></div>
<pre><code>## Data provided under OGL v3.0. Cite the source and link to:
## www.nationalarchives.gov.uk/doc/open-government-licence/version/3/</code></pre>
<p>The easiest way to get STATS19 data is with <code><a href="../reference/get_stats19.html">get_stats19()</a></code>. This function takes 2 main arguments, <code>year</code> and <code>type</code>. The year can be any year between 1979 and 2017.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">crashes_<span class="dv">2017</span> =<span class="st"> </span><span class="kw"><a href="../reference/get_stats19.html">get_stats19</a></span>(<span class="dt">year =</span> <span class="dv">2017</span>, <span class="dt">type =</span> <span class="st">"Accidents"</span>, <span class="dt">ask =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(crashes_<span class="dv">2017</span>)</a></code></pre></div>
<pre><code>## [1] 129982</code></pre>
<p>What just happened? We just downloaded, cleaned and read-in data on all road crashes recorded by the police in 2017 across Great Britain. We can explore the <code>crashes_2017</code> object a little more:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">column_names =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(crashes_<span class="dv">2017</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(column_names)</a></code></pre></div>
<pre><code>## [1] 32</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(column_names)</a></code></pre></div>
<pre><code>## [1] "accident_index"         "location_easting_osgr" 
## [3] "location_northing_osgr" "longitude"             
## [5] "latitude"               "police_force"</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(crashes_<span class="dv">2017</span>)</a></code></pre></div>
<pre><code>## [1] "spec_tbl_df" "tbl_df"      "tbl"         "data.frame"</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">kableExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(crashes_<span class="dv">2017</span>[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">10</span>)]))</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
accident_index
</th>
<th style="text-align:right;">
longitude
</th>
<th style="text-align:right;">
latitude
</th>
<th style="text-align:left;">
accident_severity
</th>
<th style="text-align:left;">
date
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2017010001708
</td>
<td style="text-align:right;">
-0.080107
</td>
<td style="text-align:right;">
51.65006
</td>
<td style="text-align:left;">
Fatal
</td>
<td style="text-align:left;">
2017-08-05
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009342
</td>
<td style="text-align:right;">
-0.173845
</td>
<td style="text-align:right;">
51.52242
</td>
<td style="text-align:left;">
Slight
</td>
<td style="text-align:left;">
2017-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009344
</td>
<td style="text-align:right;">
-0.052969
</td>
<td style="text-align:right;">
51.51410
</td>
<td style="text-align:left;">
Slight
</td>
<td style="text-align:left;">
2017-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009348
</td>
<td style="text-align:right;">
-0.060658
</td>
<td style="text-align:right;">
51.62483
</td>
<td style="text-align:left;">
Slight
</td>
<td style="text-align:left;">
2017-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009350
</td>
<td style="text-align:right;">
-0.072372
</td>
<td style="text-align:right;">
51.57341
</td>
<td style="text-align:left;">
Serious
</td>
<td style="text-align:left;">
2017-01-01
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009351
</td>
<td style="text-align:right;">
-0.353876
</td>
<td style="text-align:right;">
51.43876
</td>
<td style="text-align:left;">
Slight
</td>
<td style="text-align:left;">
2017-01-01
</td>
</tr>
</tbody>
</table>
<p>The package contains the names of all “zip” files released by the DfT and hosted on Amazon servers to download. These file names have been included in the package and can be found under <code>file_names</code> variable name. for example:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">stats19<span class="op">::</span>file_names<span class="op">$</span>dftRoadSafetyData_Vehicles_<span class="fl">2017.</span>zip</a></code></pre></div>
<pre><code>## [1] "dftRoadSafetyData_Vehicles_2017.zip"</code></pre>
<p>You can also get the raw data (if you really want!) to see how much more useful the data is after it has been cleaned and labelled by the <code>stats19</code> package, compared with the data provided by government:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">crashes_<span class="dv">2017</span>_raw =<span class="st"> </span><span class="kw"><a href="../reference/get_stats19.html">get_stats19</a></span>(<span class="dt">year =</span> <span class="dv">2017</span>, <span class="dt">type =</span> <span class="st">"Accidents"</span>, <span class="dt">ask =</span> <span class="ot">FALSE</span>, <span class="dt">format =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<pre><code>## Files identified: dftRoadSafetyData_Accidents_2017.zip</code></pre>
<pre><code>##    http://data.dft.gov.uk.s3.amazonaws.com/road-accidents-safety-data/dftRoadSafetyData_Accidents_2017.zip</code></pre>
<pre><code>## Data already exists in data_dir, not downloading</code></pre>
<pre><code>## Data saved at /tmp/RtmplCG5Zy/dftRoadSafetyData_Accidents_2017/Acc.csv</code></pre>
<pre><code>## Reading in:</code></pre>
<pre><code>## /tmp/RtmplCG5Zy/dftRoadSafetyData_Accidents_2017/Acc.csv</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">kableExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/kableExtra/topics/reexports">kable</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(crashes_<span class="dv">2017</span>_raw[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">10</span>)]))</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Accident_Index
</th>
<th style="text-align:right;">
Longitude
</th>
<th style="text-align:right;">
Latitude
</th>
<th style="text-align:right;">
Accident_Severity
</th>
<th style="text-align:left;">
Date
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
2017010001708
</td>
<td style="text-align:right;">
-0.080107
</td>
<td style="text-align:right;">
51.65006
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
05/08/2017
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009342
</td>
<td style="text-align:right;">
-0.173845
</td>
<td style="text-align:right;">
51.52242
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
01/01/2017
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009344
</td>
<td style="text-align:right;">
-0.052969
</td>
<td style="text-align:right;">
51.51410
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
01/01/2017
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009348
</td>
<td style="text-align:right;">
-0.060658
</td>
<td style="text-align:right;">
51.62483
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
01/01/2017
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009350
</td>
<td style="text-align:right;">
-0.072372
</td>
<td style="text-align:right;">
51.57341
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
01/01/2017
</td>
</tr>
<tr>
<td style="text-align:left;">
2017010009351
</td>
<td style="text-align:right;">
-0.353876
</td>
<td style="text-align:right;">
51.43876
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
01/01/2017
</td>
</tr>
</tbody>
</table>
<p>Note: the severity type is not labelled (this problem affects dozens of columns), the column names are inconsistent, and the dates have note been cleaned and converted into a user-friendly date (<code>POSIXct</code>) class:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(crashes_<span class="dv">2017</span><span class="op">$</span>date)</a></code></pre></div>
<pre><code>## [1] "POSIXct" "POSIXt"</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/class">class</a></span>(crashes_<span class="dv">2017</span>_raw<span class="op">$</span>Date)</a></code></pre></div>
<pre><code>## [1] "character"</code></pre>
</div>
<div id="creating-geographic-crash-data" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-geographic-crash-data" class="anchor"></a>Creating geographic crash data</h2>
<p>An important feature of STATS19 data is that the “accidents” table contains geographic coordinates. These are provided at ~10m resolution in the UK’s official coordinate reference system (the Ordnance Survey National Grid, EPSG code 27700). <strong>stats19</strong> converts the non-geographic tables created by <code><a href="../reference/format_accidents.html">format_accidents()</a></code> into the geographic data form of the <a href="https://cran.r-project.org/package=sf"><code>sf</code> package</a> with the function <code><a href="../reference/format_sf.html">format_sf()</a></code> as follows:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">crashes_sf =<span class="st"> </span><span class="kw"><a href="../reference/format_sf.html">format_sf</a></span>(crashes_<span class="dv">2017</span>)</a></code></pre></div>
<pre><code>## 19 rows removed with no coordinates</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># crashes_sf = format_sf(crashes_2017, lonlat = TRUE) # provides the data in lon/lat format</span></a></code></pre></div>
<p>An example of an administrative zone dataset of relevance to STATS19 data is the boundaries of police forces in England, which is provided in the packaged dataset <code>police_boundaries</code>. The following code chunk demonstrates the kind of spatial operations that can be performed on geographic STATS19 data, by counting and plotting the number of fatalities per police force:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">crashes_sf <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(accident_severity <span class="op">==</span><span class="st"> "Fatal"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="dt">n_fatalities =</span> accident_index) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/aggregate.sf">aggregate</a></span>(<span class="dt">by =</span> police_boundaries, <span class="dt">FUN =</span> length) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/plot">plot</a></span>()</a></code></pre></div>
<p><img src="blog_files/figure-html/nfatalities-1.png" width="700"></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">west_yorkshire =</a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="st">  </span>police_boundaries[police_boundaries<span class="op">$</span>pfa16nm <span class="op">==</span><span class="st"> "West Yorkshire"</span>, ]</a></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">crashes_wy =<span class="st"> </span>crashes_sf[west_yorkshire, ]</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(crashes_wy) <span class="co"># which is 3.36%</span></a></code></pre></div>
<pre><code>## [1] 4371</code></pre>
</div>
<div id="combining-the-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#combining-the-tables" class="anchor"></a>Combining the tables</h2>
<p>We can combine the three sets of tables to analyse the data further. Lets read the datasets first:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co">#crashes_2017 = get_stats19(year = 2017, type = "Accidents", ask = FALSE)</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2">casualties_<span class="dv">2017</span> =<span class="st"> </span><span class="kw"><a href="../reference/get_stats19.html">get_stats19</a></span>(<span class="dt">year =</span> <span class="dv">2017</span>, <span class="dt">type =</span> <span class="st">"Casualties"</span>, <span class="dt">ask =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(casualties_<span class="dv">2017</span>)</a></code></pre></div>
<pre><code>## [1] 170993</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">vehicles_<span class="dv">2017</span> =<span class="st"> </span><span class="kw"><a href="../reference/get_stats19.html">get_stats19</a></span>(<span class="dt">year =</span> <span class="dv">2017</span>, <span class="dt">type =</span> <span class="st">"Vehicles"</span>, <span class="dt">ask =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(vehicles_<span class="dv">2017</span>)</a></code></pre></div>
<pre><code>## [1] 238926</code></pre>
<p>Lets now read in casualties that took place in West Yorkshire (using <code>crashes_wy</code> object above), and count the number of casualties by severity for each crash:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb39-3" data-line-number="3">sel =<span class="st"> </span>casualties_<span class="dv">2017</span><span class="op">$</span>accident_index <span class="op">%in%</span><span class="st"> </span>crashes_wy<span class="op">$</span>accident_index</a>
<a class="sourceLine" id="cb39-4" data-line-number="4">casualties_wy =<span class="st"> </span>casualties_<span class="dv">2017</span>[sel, ]</a>
<a class="sourceLine" id="cb39-5" data-line-number="5">cas_types =<span class="st"> </span>casualties_wy <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(accident_index, casualty_type) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(accident_index) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(</a>
<a class="sourceLine" id="cb39-9" data-line-number="9">    <span class="dt">Total =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>(),</a>
<a class="sourceLine" id="cb39-10" data-line-number="10">    <span class="dt">walking =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(casualty_type <span class="op">==</span><span class="st"> "Pedestrian"</span>),</a>
<a class="sourceLine" id="cb39-11" data-line-number="11">    <span class="dt">cycling =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(casualty_type <span class="op">==</span><span class="st"> "Cyclist"</span>),</a>
<a class="sourceLine" id="cb39-12" data-line-number="12">    <span class="dt">passenger =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(casualty_type <span class="op">==</span><span class="st"> "Car occupant"</span>)</a>
<a class="sourceLine" id="cb39-13" data-line-number="13">    ) </a>
<a class="sourceLine" id="cb39-14" data-line-number="14">cj =<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(crashes_wy, cas_types)</a></code></pre></div>
<p>What just happened?</p>
<p>We found the subset of casualties that took place in West Yorkshire with reference to the <code>accident_index</code> variable in the <code>accidents</code> table. Then we used the <strong>dplyr</strong> function <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise()</a></code>, to find the number of people who were in a car, cycling, and walking when they were injured. This new casualty dataset is joined onto the <code>crashes_wy</code> dataset. The result is a spatial (<code>sf</code>) data frame of crashes in West Yorkshire, with columns counting how many road users of different types were hurt. The joined data has additional variables:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">base<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sets">setdiff</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(cj), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(crashes_wy))</a></code></pre></div>
<pre><code>## [1] "Total"     "walking"   "cycling"   "passenger"</code></pre>
<p>As a simple spatial plot, we can map all the crashes that have happened in West Yorkshire in 2017, with the colour related to the total number of people hurt in each crash. Placing this plot next to a map of West Yorkshire provides context:</p>
<p>In addition to the <code>Total</code> number of people hurt/killed, <code>cj</code> contains a column for each type of casualty (cyclist, car occupant, etc.), and a number corresponding to the number of each type hurt in each crash. It also contains the <code>geometry</code> column from <code>crashes_sf</code>. In other words, joins allow the casualties and vehicles tables to be geo-referenced. We can then explore the spatial distribution of different casualty types. The following figure, for example, shows the spatial distribution of pedestrians and car passengers hurt in car crashes across West Yorkshire in 2017:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb42-2" data-line-number="2">crashes_types =<span class="st"> </span>cj <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(accident_severity <span class="op">!=</span><span class="st"> "Slight"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">type =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span>(</a>
<a class="sourceLine" id="cb42-5" data-line-number="5">    walking <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> "Walking"</span>,</a>
<a class="sourceLine" id="cb42-6" data-line-number="6">    cycling <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> "Cycling"</span>,</a>
<a class="sourceLine" id="cb42-7" data-line-number="7">    passenger <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> "Passenger"</span>,</a>
<a class="sourceLine" id="cb42-8" data-line-number="8">    <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> "Other"</span></a>
<a class="sourceLine" id="cb42-9" data-line-number="9">  ))</a>
<a class="sourceLine" id="cb42-10" data-line-number="10"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(crashes_types, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">size =</span> Total, <span class="dt">colour =</span> speed_limit)) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-11" data-line-number="11"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="dt">show.legend =</span> <span class="st">"point"</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-12" data-line-number="12"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span>(type), <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span>(accident_severity)) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-13" data-line-number="13"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_size.html">scale_size</a></span>(</a>
<a class="sourceLine" id="cb42-14" data-line-number="14">    <span class="dt">breaks =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">12</span>),</a>
<a class="sourceLine" id="cb42-15" data-line-number="15">    <span class="dt">labels =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="st">"3+"</span>, <span class="dv">12</span>)</a>
<a class="sourceLine" id="cb42-16" data-line-number="16">    ) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-17" data-line-number="17"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn</a></span>(<span class="dt">colours =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"blue"</span>, <span class="st">"yellow"</span>, <span class="st">"red"</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-18" data-line-number="18"><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">axis.text =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span>(), <span class="dt">axis.ticks =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span>())</a></code></pre></div>
<div class="figure">
<img src="blog_files/figure-html/sfplot-1.png" alt="Spatial distribution of serious and fatal crashes in West Yorkshire in 2017, for cycling, walking, being a car passenger and other modes of travel. Colour is related to the speed limit where the crash happened (red is faster) and size is proportional to the total number of people hurt in each crash." width="100%"><p class="caption">
Spatial distribution of serious and fatal crashes in West Yorkshire in 2017, for cycling, walking, being a car passenger and other modes of travel. Colour is related to the speed limit where the crash happened (red is faster) and size is proportional to the total number of people hurt in each crash.
</p>
</div>
<p>To show what is possible when the data are in this form, and allude to next steps, let’s create an interactive map. We will plot crashes in which pedestrians were hurt, from the <code>crashes_types</code>, using Rstudio’s <code>leaflet</code> package:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(leaflet)</a>
<a class="sourceLine" id="cb43-2" data-line-number="2">crashes_pedestrians =<span class="st"> </span>crashes_types <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(walking <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb43-4" data-line-number="4"><span class="co"># convert to lon lat CRS</span></a>
<a class="sourceLine" id="cb43-5" data-line-number="5">crashes_pedestrians_lonlat =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_transform">st_transform</a></span>(crashes_pedestrians, <span class="dt">crs =</span> <span class="dv">4326</span>)</a>
<a class="sourceLine" id="cb43-6" data-line-number="6">pal =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/leaflet/topics/colorNumeric">colorFactor</a></span>(<span class="dt">palette =</span> <span class="st">"Reds"</span>, <span class="dt">domain =</span> crashes_pedestrians_lonlat<span class="op">$</span>accident_severity, <span class="dt">reverse =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb43-7" data-line-number="7"><span class="kw"><a href="https://www.rdocumentation.org/packages/leaflet/topics/leaflet">leaflet</a></span>(<span class="dt">data =</span> crashes_pedestrians_lonlat, <span class="dt">height =</span> <span class="st">"280px"</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/leaflet/topics/addProviderTiles">addProviderTiles</a></span>(<span class="dt">provider =</span> providers<span class="op">$</span>OpenStreetMap.BlackAndWhite) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/leaflet/topics/map-layers">addCircleMarkers</a></span>(<span class="dt">radius =</span> <span class="fl">0.5</span>, <span class="dt">color =</span> <span class="op">~</span><span class="kw">pal</span>(accident_severity)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-10" data-line-number="10"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/leaflet/topics/addLegend">addLegend</a></span>(<span class="dt">pal =</span> pal, <span class="dt">values =</span> <span class="op">~</span>accident_severity) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-11" data-line-number="11"><span class="st">  </span>leaflet<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/leaflet/topics/addMiniMap">addMiniMap</a></span>()</a></code></pre></div>
<div class="figure">
<div id="htmlwidget-25887e97f9fd00122313" style="width:100%;height:280px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-25887e97f9fd00122313">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["OpenStreetMap.BlackAndWhite",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircleMarkers","args":[[53.7518017107205,53.8373467307259,53.6930341320368,53.7193269676696,53.7243946731416,53.7062161146243,53.7871264285522,53.7776044481316,53.6717161854952,53.6573936580669,53.7921474536844,53.6617812932529,53.6725203032123,53.7935728933475,53.6739507356343,53.8019649158159,53.8196178868658,53.798176245461,53.7553696734604,53.5735795844198,53.79290072074,53.6921489038955,53.7481385185403,53.6193850753621,53.8104734257683,53.8464388871835,53.7682731577036,53.8265677122477,53.6944874980741,53.8424866336742,53.8198164735652,53.5953084921727,53.8042829880369,53.8342496451832,53.7349047595963,53.7761030826002,53.8283241657596,53.8284267522172,53.8074525006126,53.8015958682614,53.8695467484219,53.7877246181579,53.696515750326,53.709837157795,53.8371258948041,53.7424782302489,53.6561529956449,53.7956516680985,53.6222965966639,53.7998515634469,53.6512569206808,53.7678357628679,53.7437705737725,53.9029761221566,53.8697381240371,53.6470228244081,53.6668372198884,53.7616297572462,53.6976104296716,53.795110009861,53.8687764369669,53.7975938626328,53.6132821612369,53.7843849354029,53.7983580377512,53.782603313806,53.8019899008028,53.7934615144996,53.7476171437233,53.7984162976689,53.8265269143802,53.8375646059054,53.760090244034,53.8050715836713,53.8441859764255,53.8355706484238,53.5867252341709,53.899906983947,53.6966078018541,53.7839261099522,53.8176264710153,53.7084993698858,53.8440471942549,53.908211911593,53.6611484866807,53.8067353825221,53.7928563040064,53.7039743095866,53.6621397629377,53.812975413183,53.840998692695,53.7172953367535,53.8036140233379,53.8095528593099,53.7696766964064,53.7268389022684,53.7983513981519,53.6359927766349,53.6120360185567,53.8107380766671,53.8012143250699,53.8013373522714,53.7213858019173,53.7243355422038,53.7903637625861,53.5883459598939,53.8043923373511,53.798021599315,53.7971805894915,53.894569558608,53.7252544250611,53.7763016878324,53.8797182256964,53.6882020952504,53.7305471899566,53.8011894350915,53.6719301744882,53.7903776872306,53.691429043256,53.8145628223114,53.7879465573104,53.7811689849482,53.6671076333094,53.6701369233252,53.7668284144376,53.6524222426977,53.7147942587342,53.5943650011376,53.7644861134097,53.7175190048727,53.7903839816749,53.5747492265595,53.7245441644028,53.7510027326589,53.7968660904684,53.6860684982385,53.7945786342847,53.7104804806523,53.8376606913618,53.7770514311556,53.7216054919233,53.6978924837468,53.7686014080143,53.7918118074167,53.7951068362378,53.672057485428,53.7837742496725,53.6363866400775,53.7754202776508,53.8177493653826,53.7961069369608,53.8600446021853,53.7162511116457,53.7139473372504,53.8321752949592,53.8275050253039,53.7945200690234,53.7871457794974,53.7221938899474,53.8191160655586,53.7766252633861,53.8655874342178,53.8116249965359,53.7960087267645,53.8084271110657,53.8023188701846,53.798183159132,53.7935235080099,53.6748511861207,53.7925070237971,53.8157146050224,53.7074544163536,53.7975199587813,53.8667542873876,53.7239341458669,53.8115046699883,53.8532878913488,53.9116541723019,53.6952752285997,53.8007800560966,53.6583941260195,53.8007698706893,53.7926389899629,53.7448789358141,53.873896211724,53.771999114594,53.8098698071496,53.9304144775402,53.8066135772268,53.6593675089033,53.7761457550105,53.8112519822791,53.7146156252262,53.8349760920054,53.7434597535177,53.7860205470332,53.5759924184746,53.8158559554179,53.7505911331366,53.6922016719101,53.7687991421446,53.793397270041,53.7971467699738,53.8085591873304,53.6469672851155,53.8170207096314,53.7964777999415,53.8674869107567,53.7727386791877,53.7951315061101,53.7951407810077,53.8196809078551,53.8333026937916,53.6802785443636,53.7825644622695,53.8132230959982,53.5988998140782,53.7965812757057,53.8041809210881,53.7771510752989,53.7232105548495,53.7776656099954,53.7253257043599,53.768387552427,53.8385245361861,53.8397714187264,53.8134115301641,53.7934870513781,53.5917862777681,53.743131127911,53.8146854379543,53.707360708003,53.8374723411595,53.8025329207893,53.873697143421,53.7567313856827,53.7832501740226,53.8422908932585,53.7487932223601,53.7666800206431,53.8204870287692,53.7949331840132,53.7472770853664,53.7995324769503,53.6393303275119,53.7090704401446,53.6743850898746,53.6509900566274],[-1.60202906048419,-1.52460002183116,-1.51126406735314,-1.88135661201158,-1.35548125369184,-1.67421896766559,-1.76669428574042,-1.55538140521279,-1.77919855220696,-1.78172457688385,-1.75601030203565,-1.56221490128373,-1.52173385993647,-1.71745943347376,-1.35016589649167,-1.81832614436491,-1.57618747236684,-1.64675670674387,-1.47160849377496,-1.72952785035426,-1.54069241557399,-1.62765442982857,-1.47668813777048,-1.44347989947247,-1.52481285406886,-1.83184371310685,-1.84715991904831,-1.5354629265018,-1.63110192327917,-1.56455820334277,-1.57642850644197,-1.8569549633589,-1.52767670852593,-1.77579284277129,-1.87397586933208,-1.54096677109257,-1.53181240330845,-1.56629919341288,-1.57488268369214,-1.49679380208324,-1.90613199788112,-1.76464192595784,-1.84976704349254,-1.66082862925194,-1.93024427764909,-1.60389103719513,-1.75373898487879,-1.76446096930934,-1.41137446933288,-1.44956628904997,-1.80936674322957,-1.63874306327366,-1.54984027155225,-1.96218797554751,-1.90956852261048,-1.78758704296281,-1.53711454310941,-1.57188685523776,-1.29801767816514,-1.53789018995699,-1.90958579825889,-1.46107331056486,-1.35401480149532,-1.79100769338439,-1.56030875811485,-1.77983163542021,-1.77471973973724,-1.60207530432703,-1.74139254358537,-1.54936187717708,-1.7153997056599,-1.53201332208133,-1.79617916908676,-1.76935834072127,-1.61191462853773,-1.80119249878017,-1.7705625513942,-1.50124483851877,-1.41789629971698,-1.77581806111655,-1.53130883174823,-1.85175447440969,-1.507851296459,-1.69469158444517,-1.54436487395409,-1.76524927630014,-1.73024578483121,-1.64746975613511,-1.56439034716631,-1.52112441925463,-1.62429959463526,-1.63564535360638,-1.62027586270152,-1.51710871307342,-1.63523779033128,-1.89870445411157,-1.7571129781507,-1.81370031751624,-1.80606674822631,-1.55638265923813,-1.76862033468763,-1.49945394889447,-1.8648782302634,-1.8746893927325,-1.5262240010576,-1.33877453279453,-1.45785820881476,-1.54008994504832,-1.72674149156405,-1.63993424306303,-1.77702406308466,-1.77443229056222,-1.91449074806569,-1.87346395513372,-1.98122799884529,-1.56281472838232,-1.62627353481914,-1.74773278755842,-1.47805760903539,-1.55769401851506,-1.65245852903579,-1.55924393967972,-1.47823697527394,-1.58655769238898,-1.7078083108992,-1.78120556303738,-1.63486390053687,-1.28806542490988,-1.76235976601646,-1.67599550554666,-1.56726825948115,-1.75513294010161,-1.34327870884053,-1.47600046389039,-1.76044628005576,-1.49612731493856,-1.5422984283942,-1.73413585256604,-1.79870564031408,-1.57136583957791,-1.3191984123824,-1.63946296085224,-1.78060268796843,-1.7501377468638,-1.75716206526502,-1.69682385313405,-1.77631970007891,-1.83729158373071,-1.76021928297027,-1.5237129244077,-1.54712461428503,-1.91559503781549,-1.77851109860036,-1.88572019941446,-1.77679152899678,-1.45883616213318,-1.75590546396944,-1.79714103611825,-1.31993149705761,-1.76744339312808,-1.5603992347693,-1.91185838536898,-1.52282554480999,-1.70995878626011,-1.45965883884386,-1.55707881664764,-1.73291401289773,-1.74774429223129,-1.56003591244772,-1.75165160371,-1.52283987019793,-1.69040394580441,-1.75931911602793,-1.90974221275096,-1.77754631348157,-1.67846095887537,-1.51251636236836,-1.70182132660013,-1.63592626042808,-1.54933654904085,-1.82142473246425,-1.54901781680709,-1.72953372266465,-1.59076786815114,-1.7128883524004,-1.76186220924447,-1.55491875905035,-1.38892551324932,-1.72092512002459,-1.55356923050123,-1.5427264942497,-1.76303719830891,-1.9106733223244,-1.77980049615823,-1.76987741208494,-1.77594350678974,-1.78466561223919,-1.56475819036325,-1.76721498932642,-1.63018297699315,-1.53484130521945,-1.74331244103796,-1.76147702517131,-1.76031895304314,-1.78168759142167,-1.51681027102542,-1.53597749021861,-1.91611234606285,-1.7099218316204,-1.54587510247743,-1.54595090680391,-1.57621721634052,-1.59324977746975,-1.50874710241417,-1.7641092488732,-1.80450264783731,-1.74603301818568,-1.74437089278232,-1.80991980604353,-1.80250017221234,-1.31536855443217,-1.56969038267652,-1.3547850074282,-1.41790557594665,-1.62638845425503,-1.52635062715226,-1.51114125485145,-1.74326635285669,-1.8505611380942,-1.76725617354695,-1.56171753380131,-1.67205894597877,-1.59836089991024,-1.52605653956858,-1.903613214138,-1.61995538606057,-1.53670007096398,-1.63529131027811,-1.81920733292165,-1.36821468372322,-1.58053824682008,-1.87161035002275,-1.54775572233485,-1.41443802381746,-1.82767604621345,-1.50285193741551,-1.57788779538035,-1.77953365458152],0.5,null,null,{"interactive":true,"className":"","stroke":true,"color":["#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2","#DE2D26","#FEE0D2","#FEE0D2","#FEE0D2","#FEE0D2"],"fillOpacity":0.2},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#DE2D26","#FEE0D2"],"labels":["Fatal","Serious"],"na_color":null,"na_label":"NA","opacity":0.5,"position":"topright","type":"factor","title":"accident_severity","extra":null,"layerId":null,"className":"info legend","group":null}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,false,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]}],"limits":{"lat":[53.5735795844198,53.9304144775402],"lng":[-1.98122799884529,-1.28806542490988]}},"evals":[],"jsHooks":[]}</script><p class="caption">
Spatial distribution of all crashes in 2017 in West Yorkshire.
</p>
</div>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p><a href="https://github.com/ropensci/stats19"><code>stats19</code></a> provides access to a reliable and official road safety dataset. As covered in this post, it helps with data discovery, download, cleaning and formatting, allowing you to focus on the real work of analysis (see the package’s introductory <a href="https://itsleeds.github.io/stats19/articles/stats19.html">vignette</a> for more on this). In our experience, 80% of time spent using STATS19 data was spent on data cleaning. Hopefully, now the data is freely available in a more useful form, 100% of the time can be spent on analysis! We think it could help many people, especially, including campaigners, academics and local authority planners aiming to make the roads of the UK and the rest of the world a safe place for all of us.</p>
<p>There are many possible next steps, including:</p>
<ul>
<li>Comparing these datasets with interventions such as 20 mph zones <span class="citation">(Grundy et al. 2009)</span> and links with street morphology <span class="citation">(Sarkar, Webster, and Kumari 2018)</span>.</li>
<li>The creation of more general software for accessing and working with road crash data worldwide.</li>
<li>Making the data even more available by provide the data as part of an interactive web application, a technique successfully used in the Propensity to Cycle Tool (PCT) project hosted at <a href="http://www.pct.bike/">www.pct.bike/</a> (this would likely take further times/resources beyond what we can provide in our spare time!).</li>
</ul>
<p>For now, however, we want to take the opportunity to celebrate the release of <code>stats19</code> 🎉, thank rOpenSci for a great review process 🙏 and let you know: the package and data are now out there, and are ready to be used 🚀.</p>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-grundy_effect_2009">
<p>Grundy, Chris, Rebecca Steinbach, Phil Edwards, Judith Green, Ben Armstrong, and Paul Wilkinson. 2009. “Effect of 20 Mph Traffic Speed Zones on Road Injuries in London, 1986-2006: Controlled Interrupted Time Series Analysis.” <em>BMJ</em> 339 (December): b4469. <a href="https://doi.org/10.1136/bmj.b4469" class="uri">https://doi.org/10.1136/bmj.b4469</a>.</p>
</div>
<div id="ref-lovelace_stats19_2019">
<p>Lovelace, Robin, Malcolm Morgan, Layik Hama, Mark Padgham, and M Padgham. 2019. “Stats19 A Package for Working with Open Road Crash Data.” <em>Journal of Open Source Software</em> 4 (33): 1181. <a href="https://doi.org/10.21105/joss.01181" class="uri">https://doi.org/10.21105/joss.01181</a>.</p>
</div>
<div id="ref-lovelace_who_2016">
<p>Lovelace, Robin, Hannah Roberts, and Ian Kellar. 2016. “Who, Where, When: The Demographic and Geographic Distribution of Bicycle Crashes in West Yorkshire.” <em>Transportation Research Part F: Traffic Psychology and Behaviour</em>, Bicycling and bicycle safety, 41, Part B. <a href="https://doi.org/10.1016/j.trf.2015.02.010" class="uri">https://doi.org/10.1016/j.trf.2015.02.010</a>.</p>
</div>
<div id="ref-sarkar_street_2018">
<p>Sarkar, Chinmoy, Chris Webster, and Sarika Kumari. 2018. “Street Morphology and Severity of Road Casualties: A 5-Year Study of Greater London.” <em>International Journal of Sustainable Transportation</em> 12 (7): 510–25. <a href="https://doi.org/10.1080/15568318.2017.1402972" class="uri">https://doi.org/10.1080/15568318.2017.1402972</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#what-is-stats19-anyway">What is STATS19 anyway?</a></li>
      <li><a href="#the-road-crash-data-in-stats19">The road crash data in stats19</a></li>
      <li><a href="#how-stats19-works">How stats19 works</a></li>
      <li><a href="#creating-geographic-crash-data">Creating geographic crash data</a></li>
      <li><a href="#combining-the-tables">Combining the tables</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Robin Lovelace, Malcolm Morgan, Layik Hama, Mark Padgham.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
